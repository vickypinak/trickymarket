<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <title>Tricky Market</title>
    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.11.2/css/all.css"
    />
    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet" />
    <!-- Kal2 -->
    <link href="css/mdb.min.css" rel="stylesheet" />
    <!-- Your custom styles (optional) -->
    <link href="css/style.min.css" rel="stylesheet" />
    <style type="text/css">
      html,
      body,
      header,
      .carousel {
        height: 60vh;
      }

      @media (max-width: 740px) {
        html,
        body,
        header,
        .carousel {
          height: 100vh;
        }
      }

      @media (min-width: 800px) and (max-width: 850px) {
        html,
        body,
        header,
        .carousel {
          height: 100vh;
        }
      }
    </style>
  </head>

  <body>
    <!-- Navbar -->
    <nav
      class="navbar fixed-top navbar-expand-lg navbar-light white scrolling-navbar"
    >
      <div class="container">
        <!-- Brand -->
        <a
          class="navbar-brand waves-effect"
          href="https://mdbootstrap.com/docs/jquery/"
          target="_blank"
        >
          <strong class="blue-text">Tricky Market</strong>
        </a>

        <!-- Collapse -->
        <button
          class="navbar-toggler"
          type="button"
          data-toggle="collapse"
          data-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <!-- Links -->
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <!-- Left -->
          <ul class="navbar-nav mr-auto">
            <li class="nav-item">
              <a class="nav-link waves-effect" href="product.html">Products</a>
            </li>
            <li class="nav-item active">
              <a class="nav-link waves-effect" href="#">Blogs</a>
            </li>
            <li class="nav-item">
              <a class="nav-link waves-effect" href="about-us.html">About Us</a>
            </li>
          </ul>

          <!-- Right -->
        </div>
      </div>
    </nav>
    <!-- Navbar -->

    <!--Carousel Wrapper-->
    <div
      id="carousel-example-1z"
      class="carousel slide carousel-fade pt-4"
      data-ride="carousel"
    >
      <!--Indicators-->
      <ol class="carousel-indicators">
        <li
          data-target="#carousel-example-1z"
          data-slide-to="0"
          class="active"
        ></li>
        <li data-target="#carousel-example-1z" data-slide-to="1"></li>
        <li data-target="#carousel-example-1z" data-slide-to="2"></li>
      </ol>
      <!--/.Indicators-->

      <!--Slides-->
      <div class="carousel-inner" role="listbox">
        <!--First slide-->
        <div class="carousel-item active">
          <div
            class="view"
            style="
              background-image: url('https://mdbootstrap.com/img/Photos/Horizontal/E-commerce/8-col/img%282%29.jpg');
              background-repeat: no-repeat;
              background-size: cover;
            "
          >
            <!-- Mask & flexbox options-->
            <div
              class="mask rgba-black-strong d-flex justify-content-center align-items-center"
            >
              <!-- Content -->
              <div class="text-center white-text mx-5 wow fadeIn">
                <h1 class="mb-4">
                  <strong>Blog Page</strong>
                </h1>

                <p>
                  <strong>Best & good stuffs are available here</strong>
                </p>

                <p class="mb-4 d-none d-md-block">
                  <strong
                    >The most comprehensive product you can find here. dont
                    forget to check our online handles.</strong
                  >
                </p>
              </div>
              <!-- Content -->
            </div>
            <!-- Mask & flexbox options-->
          </div>
        </div>
        <!--/First slide-->

        <!--Second slide-->
        <div class="carousel-item">
          <div
            class="view"
            style="
              background-image: url('https://mdbootstrap.com/img/Photos/Horizontal/E-commerce/8-col/img%283%29.jpg');
              background-repeat: no-repeat;
              background-size: cover;
            "
          >
            <!-- Mask & flexbox options-->
            <div
              class="mask rgba-black-strong d-flex justify-content-center align-items-center"
            >
              <!-- Content -->
              <div
                class="mask rgba-black-strong d-flex justify-content-center align-items-center"
              >
                <!-- Content -->
                <div class="text-center white-text mx-5 wow fadeIn">
                  <h1 class="mb-4">
                    <strong>Blog Page</strong>
                  </h1>

                  <p>
                    <strong>Best & good stuffs are available here</strong>
                  </p>

                  <p class="mb-4 d-none d-md-block">
                    <strong
                      >The most comprehensive product you can find here. dont
                      forget to check our online handles.</strong
                    >
                  </p>
                </div>
                <!-- Content -->
              </div>
              <!-- Content -->
            </div>
            <!-- Mask & flexbox options-->
          </div>
        </div>
        <!--/Second slide-->

        <!--Third slide-->
        <div class="carousel-item">
          <div
            class="view"
            style="
              background-image: url('https://mdbootstrap.com/img/Photos/Horizontal/E-commerce/8-col/img%285%29.jpg');
              background-repeat: no-repeat;
              background-size: cover;
            "
          >
            <!-- Mask & flexbox options-->
            <div
              class="mask rgba-black-strong d-flex justify-content-center align-items-center"
            >
              <!-- Content -->
              <div
                class="mask rgba-black-strong d-flex justify-content-center align-items-center"
              >
                <!-- Content -->
                <div class="text-center white-text mx-5 wow fadeIn">
                  <h1 class="mb-4">
                    <strong>Blog Page</strong>
                  </h1>

                  <p>
                    <strong>Best & good stuffs are available here</strong>
                  </p>

                  <p class="mb-4 d-none d-md-block">
                    <strong
                      >The most comprehensive product you can find here. dont
                      forget to check our online handles.</strong
                    >
                  </p>
                </div>
                <!-- Content -->
              </div>
              <!-- Content -->
            </div>
            <!-- Mask & flexbox options-->
          </div>
        </div>
        <!--/Third slide-->
      </div>
      <!--/.Slides-->

      <!--Controls-->
      <a
        class="carousel-control-prev"
        href="#carousel-example-1z"
        role="button"
        data-slide="prev"
      >
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a
        class="carousel-control-next"
        href="#carousel-example-1z"
        role="button"
        data-slide="next"
      >
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
      <!--/.Controls-->
    </div>
    <!--/.Carousel Wrapper-->

    <!--Main layout-->
    <main>
      <div class="container">
        <!--Navbar-->
        <nav
          class="navbar navbar-expand-lg navbar-dark mdb-color lighten-3 mt-3 mb-5"
        >
          <!-- Navbar brand -->
          <span class="navbar-brand">Blogs:</span>

          <!-- Collapsible content -->
        </nav>
        <!--/.Navbar-->

        <!--Section: Products v.3-->
        <section class="text-center mb-4">
          <div id="blogList"></div>
        </section>
        <!--Section: Products v.3-->

        <!--Pagination-->
        <nav class="d-flex justify-content-center wow fadeIn">
          <ul class="pagination pg-blue">
            <!--Arrow left-->
            <li class="page-item disabled">
              <a class="page-link" href="#" aria-label="Previous">
                <span aria-hidden="true">&laquo;</span>
                <span class="sr-only">Previous</span>
              </a>
            </li>

            <li class="page-item active">
              <a class="page-link" href="#"
                >1
                <span class="sr-only">(current)</span>
              </a>
            </li>
            <li class="page-item">
              <a class="page-link" href="#">2</a>
            </li>
            <li class="page-item">
              <a class="page-link" href="#">3</a>
            </li>
            <li class="page-item">
              <a class="page-link" href="#">4</a>
            </li>
            <li class="page-item">
              <a class="page-link" href="#">5</a>
            </li>

            <li class="page-item">
              <a class="page-link" href="#" aria-label="Next">
                <span aria-hidden="true">&raquo;</span>
                <span class="sr-only">Next</span>
              </a>
            </li>
          </ul>
        </nav>
        <!--Pagination-->
      </div>
    </main>
    <!--Main layout-->

    <!--Footer-->
    <footer class="page-footer text-center font-small mt-4 wow fadeIn">
      <!--Call to action-->

      <!--/.Call to action-->

      <hr class="my-4" />

      <!-- Social icons -->
      <div class="pb-4">
        <a href="https://www.facebook.com/mdbootstrap" target="_blank">
          <i class="fab fa-facebook-f mr-3"></i>
        </a>

        <a href="https://twitter.com/MDBootstrap" target="_blank">
          <i class="fab fa-twitter mr-3"></i>
        </a>

        <a href="https://www.youtube.com/watch?v=7MUISDJ5ZZ4" target="_blank">
          <i class="fab fa-youtube mr-3"></i>
        </a>

        <a
          href="https://plus.google.com/u/0/b/107863090883699620484"
          target="_blank"
        >
          <i class="fab fa-google-plus-g mr-3"></i>
        </a>

        <a href="https://dribbble.com/mdbootstrap" target="_blank">
          <i class="fab fa-dribbble mr-3"></i>
        </a>

        <a href="https://pinterest.com/mdbootstrap" target="_blank">
          <i class="fab fa-pinterest mr-3"></i>
        </a>

        <a
          href="https://github.com/mdbootstrap/bootstrap-material-design"
          target="_blank"
        >
          <i class="fab fa-github mr-3"></i>
        </a>

        <a href="http://codepen.io/mdbootstrap/" target="_blank">
          <i class="fab fa-codepen mr-3"></i>
        </a>
      </div>
      <!-- Social icons -->

      <!--Copyright-->
      <div class="footer-copyright py-3">
        Â© 2019 Copyright:
        <a href="https://trickymarket.in/" target="_blank">
          trickymarket.in
        </a>
      </div>
      <!--/.Copyright-->
    </footer>
    <!--/.Footer-->

    <!-- SCRIPTS -->
    <!-- JQuery -->
    <script type="text/javascript" src="js/jquery-3.4.1.min.js"></script>
    <!-- Bootstrap tooltips -->
    <script type="text/javascript" src="js/popper.min.js"></script>
    <!-- Bootstrap core JavaScript -->
    <script type="text/javascript" src="js/bootstrap.min.js"></script>
    <!-- MDB core JavaScript -->
    <script type="text/javascript" src="js/mdb.min.js"></script>
    <!-- Initializations -->
    <script type="text/javascript">
      // Animations initialization
      new WOW().init();
    </script>
    <script type="text/javascript">
      $(document).ready(() => {
        $.ajax({
          url: "php/loadBlogs.php",
          method: "POST",
          dataType: "JSON",
          success: (blogs) => {
            var $finalBlogList = $("<div>");
            var $allRows = $("");
            var $lastColumn = $("");
            var isLastColumnRequired = false;
            while (blogs.length >= 4) {
              var $rowCard = $("<div class='row wow fadeIn'>");
              var $ele1 = getElementDiv(blogs.shift());
              var $ele2 = getElementDiv(blogs.shift());
              var $ele3 = getElementDiv(blogs.shift());
              var $ele4 = getElementDiv(blogs.shift());
              $rowCard = $rowCard.append($ele1, $ele2, $ele3, $ele4);
              // console.log($rowCard);
              $allRows = $allRows.add($rowCard);
            }
            if (blogs.length < 4 && blogs.length > 0) {
              isLastColumnRequired = true;
              blogs.forEach((blog) => {
                $lastColumn = $lastColumn.add(getElementDiv(blog));
              });
            }
            if (isLastColumnRequired) {
              var $tempDiv1 = $("<div class='row wow fadeIn'>");
              $tempDiv1 = $tempDiv1.append($lastColumn);
              $finalBlogList = $finalBlogList.append($allRows, $lastColumn);
            } else {
              $finalBlogList = $finalBlogList.append($allRows);
            }
            $("#blogList").append($finalBlogList);
          },
        });
      });

      function getElementDiv(value) {
        var popular = "";
        var color = "";
        switch (parseInt(value[3])) {
          case 1:
            popular = "New";
            color = "blue";
            break;
          case 3:
            popular = "Trending";
            color = "red";
            break;
          default:
            popular = "None";
            break;
        }
        console.log("value: ", value[0]);
        var $divTag1 = $("<div class='view overlay'>");
        var $imgTag = $(
          "<img src= 'img/uploads/" +
            value[1] +
            "' class = 'card-img-top' alt=''></img>"
        );
        var $aTag = $(
          "<a href='/blog-page.html?blog=" + value[0] + "'>"
        ).append($("<div class = 'mask rgba-white-slight'> </div>"));
        $divTag1 = $divTag1.append($imgTag, $aTag);

        if (parseInt(value[3]) > 0) {
          var $divTag2 = $("<div class='card-body text-center'>");
          var $temp = $(
            "<br><div class='mb-3'><span class='badge " +
              color +
              " mr-1'>" +
              popular +
              "<span></div>"
          );
          var $text = $(
            "<a href='/blog-page.html?blog=" +
              value[0] +
              "' class='dark-grey-text'>" +
              value[2] +
              "</a>"
          );
          $text = $("<strong>").append($text);
          $text = $("<h5>").append($text);
          $temp = $("<div>").append($temp, $text);
          $divTag2 = $divTag2.append($temp);
        } else {
          var $divTag2 = $("<div class='card-body text-center'>");
          var $text = $(
            "<a href='/blog-page.html?blog=" +
              value[0] +
              "' class='dark-grey-text'>" +
              value[2] +
              "</a>"
          );
          $text = $("<strong>").append($text);
          $text = $("<h5>").append($text);
          $divTag2 = $divTag2.append($text);
        }

        var $finalDiv = $("<div class='card'>");
        $finalDiv = $finalDiv.append($divTag1, $divTag2);
        $finalDiv = $("<div class='col-lg-3 col-md-6 mb-4'>").append($finalDiv);
        return $finalDiv;
      }
    </script>
  </body>
</html>
